var chart;
$(function () {
  const $chart = $('.city-highchart');
  const cityName = $chart.attr('data-city-name');
    $.getJSON('/cities/'+cityName+'/chart', function(){
    }).done(function(data){
      chart = $('.city-highchart').highcharts({
        title: '',
        legend: {
          enabled: false
        },
        plotOptions: {
          bar: {
            colorByPoint: true,
            borderWidth: 0,
            colors: data.colors
          }
        },
        credits: {
          enabled: false
        },
          chart: {
              type: 'bar',
              backgroundColor: 'transparent',
              height: 200
          },
          xAxis: {
              categories: data.categories,
              labels: {
                style: {
                  color: '#333'
                }
              },
              lineWidth: 0,
              minorGridLineWidth: 0,
              gridLineWidth: 0,
              tickWidth: 0,
              lineColor: 'transparent'
          },
          yAxis: {
              title: {
                  text: '',
                  style: {
                    color: '#333'
                  }
              },
              lineWidth: 0,
              minorGridLineWidth: 0,
              gridLineWidth: 0,
              lineColor: 'transparent',
              labels: {
                enabled: false,
                style: {
                  color: '#333'
                }
              }
          },
          series: [{
            data: data.series
          }]

      });
    });
});
